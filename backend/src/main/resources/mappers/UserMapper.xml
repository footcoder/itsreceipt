<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="kr.footcoder.receipt.mapper.UserMapper">

    <select id="readUser" parameterType="map" resultType="User">
      select email
            , password
            , moneyType
            , role
      from users
      where email = #{email}
    </select>

    <insert id="signupUser" parameterType="SignupParam">
      insert into users
        (email, password, role, moneyType)
      values
        (#{email}, #{password}, 'ROLE_USER', #{moneyType})
    </insert>


    <select id="isExistUser" parameterType="String" resultType="int">
        select count(*) cnt
        from    users
        where   email = #{email}
    </select>

    <delete id="deleteUser" parameterType="String">
        delete from users
        where email = #{email}
    </delete>
</mapper>